<div class="formu">
    <div class="info">
        <p>Si quieres que te avise cuando haya subido unos cuantos relatos puedes dejarme tus datos de contacto en el siguiente formulario. Prometo no utilizar tus datos para absolutamente nada más y prometo no enviar dos millones de e-mails. ¿Te parece bien una vez al mes?</p>
        <img class="imagen" src="/assets/img/LosMundosdeNano/suscribete2.png" alt="">
    </div>    
    <form [formGroup]="myForm">
        <div class="form-group">
            <label>Nombre</label>
            <input type="text" class="form-control" style="width: 250px;" formControlName="name" [ngClass]="{'is-invalid': (myForm.get('name').dirty || myForm.get('name').touched) && !myForm.get('name').valid}">
            <div *ngIf="!myForm.get('name').valid" class="invalid-feedback">
              El nombre es necesario
            </div>   
        </div>
        <div class="form-group">
            <label>Apellido</label>
            <input type="text" class="form-control" style="width: 250px;" formControlName="surname" [ngClass]="{'is-invalid': (myForm.get('surname').dirty || myForm.get('surname').touched) && !myForm.get('surname').valid}">
            <div *ngIf="!myForm.get('surname').valid" class="invalid-feedback">
              El apellido es necesario
            </div>   
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" style="width: 250px;" formControlName="email" [ngClass]="{'is-invalid': (myForm.get('email').dirty || myForm.get('email').touched) && !myForm.get('email').valid}">
            <div *ngIf="!myForm.get('email').valid" class="invalid-feedback">
                <div *ngIf="myForm.get('email').errors.required">La dirección de email es obligatoria</div>
                <div *ngIf="myForm.get('email').errors.email">
                    Dirección de email incorrecta
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Contraseña</label>
            <input type="password" class="form-control" style="width: 250px;" formControlName="password" [ngClass]="{'is-invalid': (myForm.get('password').dirty || myForm.get('password').touched) && !myForm.get('password').valid}">
            <div *ngIf="!myForm.get('password').valid" class="invalid-feedback">
                <div *ngIf="myForm.get('password').errors.required">
                    La clave es obligatoria
                </div>
                <div *ngIf="myForm.get('password').errors.minlength">
                    La clave debe tener al menos 8 caracteres
                </div>    
            </div>
        </div>
        <div class="form-group">
            <label>Confirma tu contraseña</label>
            <input type="password" class="form-control" style="width: 250px;" formControlName="password2"[ngClass]="{'is-invalid': (myForm.get('password2').dirty || myForm.get('password2').touched) && !myForm.get('password2').valid}">
            <div *ngIf="!myForm.get('password2').valid" class="invalid-feedback">
                <div *ngIf="myForm.get('password2').errors.required">
                    La clave es obligatoria
                </div>
                <div *ngIf="!myForm.get('password2').errors.required && myForm.get('password2').errors.matchPassword">
                    Las claves no coinciden
                </div> 
            </div>
        </div>
        <div class="form-group">
            <label>URL</label>
            <input type="text" class="form-control" style="width: 250px;" formControlName="url" [ngClass]="{'is-invalid': (myForm.get('url').dirty || myForm.get('url').touched) && !myForm.get('url').valid}">
            <div *ngIf="!myForm.get('url').valid" class="invalid-feedback">
              La URL es necesaria
            </div>   
        </div>  
        <div class="form-group">
            <button class="btn btn-danger btn-block" (click)="register()" [disabled]="myForm.invalid">Submit</button>
        </div>       
    </form>
</div>
